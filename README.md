# PatternParser

[See the English version](#english-readme)

Ce projet a été devéloppé dans la cadre du course [MGL843 Sujets avancés en conception logicielle](https://sites.google.com/a/etsmtl.net/mgl843/) à l'[École de technologie supérieure](https://etsmtl.ca), du [Prof. Christopher Fuhrman](https://profs.etsmtl.ca/cfuhrman).

C'est un outil qui visualise le patron de conception adaptateur en utilisant la sortie du logiciel `patterns4.jar` de Tsantalis, la sortie de JDT2Famix, le langage de programmation Pharo, MOOSE et ROASSAL.

## Modèle de Visualisation 

![Modele de Visualisation](https://github.com/tebo93/PatternParser/blob/master/imagen%20modelo%20de%20visualisation.PNG)

Afin de visualiser le patron adaptateur, il est utilisé le Tsantalis (https://users.encs.concordia.ca/~nikolaos/pattern_detection.html), qui génére un fichier XML à partir du code source du logiciel (avec tous les patrons détéctés). Avec JDT2Famix (https://github.com/girba/jdt2famix), il est généré un fichier .MSE (à partir du code source du logiciel) qui est importé dans MOOSE Model (http://www.moosetechnology.org/).

Finalement, en utilisant ROASSAL (http://agilevisualization.com/) et Pharo (http://pharo.org/), il est parsé le fichier généré par Tsantalis et il est visualisé chaque instance du patron.


![Captura 1](https://github.com/tebo93/PatternParser/blob/master/Capture%201.PNG)

![Captura 2](https://github.com/tebo93/PatternParser/blob/master/Captura%202.PNG)

Ici, on peut voir une petite demonstration

![Demonstration](https://raw.githubusercontent.com/tebo93/PatternParser/master/Demo.mp4)

Afin d'utiliser le code pharo à disposition, il faut changer le 'package' du projet, sur la ligne de code #4.

((each container mooseName beginsWith:'net::sourceforge' ) and: (each name beginsWith: '$' ) not )

pour

((each container mooseName beginsWith:'Le package de votre projet' ) and: (each name beginsWith: '$' ) not )

# English ReadMe

This project was developped in [MGL843 Sujets avancés en conception logicielle](https://sites.google.com/a/etsmtl.net/mgl843/) at l'[École de technologie supérieure (ETS)](https://etsmtl.ca) taught by [Prof. Christopher Fuhrman](https://profs.etsmtl.ca/cfuhrman).

This tool parses the design pattern Adapter using the output generated by the tool `pattern4.jar` from Tsantalis, the output generated by JDT2Famix, the Pharo programming language, MOOSE and ROASSAL.

## Work flow
![Activity diagram](https://www.planttext.com/plantuml/svg/7Ot13SCW303_dI9T0F_xoWXPmI6cH34sChPOlwYlqqadtJuSpQFnwtrBvhWeZBVgtiS7m72cx-qrpXXaMSL9F6Ljq4rBBb6jeP0FED2TJ0wq5KB3iGocsbDOP-gCyf_i9DVY3m00.svg)

In order to visualizate the pattern, the [`patterns4.jar` tool from Tsantalis](https://users.encs.concordia.ca/~nikolaos/pattern_detection.html) is used to generate an XML file from the project's source code (which contains all patterns detected). With [`jdt2famix`](https://github.com/girba/jdt2famix), a .MSE file is generated, which is a FAMIX metamodel of the project's source code, which is loaded into [Moose](http://www.moosetechnology.org/).

Finally, [Pharo](http://pharo.org/) and [Roassal](http://agilevisualization.com/) and are used respectively to parse the XML file generated by Tsantalis and visualize each instance of the pattern. Please note that limitations of the Tsantalis tool apply, and only Adapter instances are considered by this solution. It is possible to extend this work to consider other patterns recognized by `patterns4.jar`.

![Captura 1](https://github.com/tebo93/PatternParser/blob/master/Capture%201.PNG)

![Captura 2](https://github.com/tebo93/PatternParser/blob/master/Captura%202.PNG)

Here, we can see a video of a demo.

![Demo](https://raw.githubusercontent.com/tebo93/PatternParser/master/Demo.mp4)

To use the code in a specific project, you have to change the package of the project in the line 4 of the code, e.g.,

    ((each container mooseName beginsWith:'net::sourceforge' ) and: (each name beginsWith: '$' ) not )

to

    ((each container mooseName beginsWith:'your project package' ) and: (each name beginsWith: '$' ) not )

